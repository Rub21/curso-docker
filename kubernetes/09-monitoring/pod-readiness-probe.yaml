# Pod con Readiness Probe
# Detecta si un contenedor está listo para recibir tráfico
# Si el probe falla, el Service NO envía tráfico al Pod (pero no reinicia el contenedor)

apiVersion: v1  # Versión de la API de Kubernetes
kind: Pod       # Tipo de recurso: Pod
spec:           # Especificación del Pod
  containers:   # Lista de contenedores
  - name: app     # Nombre del contenedor
    image: myapp:latest  # Imagen de la aplicación
    readinessProbe:  # Probe de readiness (verifica que el contenedor esté listo)
      httpGet:      # Tipo de probe: HTTP GET request
        path: /ready  # Ruta del endpoint de readiness check
        port: 8080    # Puerto donde escucha la aplicación
      initialDelaySeconds: 5  # Tiempo de espera antes de empezar a verificar (5 segundos)
        # Más corto que liveness porque queremos saber rápido si está listo
      periodSeconds: 5  # Frecuencia de verificación (cada 5 segundos)
        # Verifica más frecuentemente que liveness
      # Si el probe falla:
      # - El Pod se marca como "Not Ready"
      # - El Service NO envía tráfico a este Pod
      # - El contenedor NO se reinicia (a diferencia de liveness)
      # Útil para aplicaciones que necesitan tiempo para inicializar (cargar datos, conectar a DB, etc.)

