# Pod con Startup Probe
# Detecta si un contenedor ha iniciado completamente
# Útil para aplicaciones que tardan mucho en iniciar
# Una vez que el startup probe tiene éxito, liveness y readiness toman el control

apiVersion: v1  # Versión de la API de Kubernetes
kind: Pod       # Tipo de recurso: Pod
spec:           # Especificación del Pod
  containers:   # Lista de contenedores
  - name: app     # Nombre del contenedor
    image: myapp:latest  # Imagen de la aplicación
    startupProbe:  # Probe de startup (verifica que el contenedor haya iniciado)
      httpGet:      # Tipo de probe: HTTP GET request
        path: /startup  # Ruta del endpoint de startup check
        port: 8080      # Puerto donde escucha la aplicación
      failureThreshold: 30  # Número de fallos permitidos antes de considerar que falló
        # Con periodSeconds: 10, esto permite hasta 30 * 10 = 300 segundos (5 minutos) para iniciar
        # Útil para aplicaciones que tardan mucho en iniciar
      periodSeconds: 10  # Frecuencia de verificación (cada 10 segundos)
        # Verifica cada 10 segundos si la aplicación ha iniciado
      # Una vez que el startup probe tiene éxito:
      # - Liveness probe toma el control (verifica que siga vivo)
      # - Readiness probe toma el control (verifica que esté listo)
      # Útil para aplicaciones Java, aplicaciones que cargan muchos datos, etc.

