# Pod usando Secret como variable de entorno
# Similar a ConfigMap pero para datos sensibles

apiVersion: v1  # Versión de la API de Kubernetes
kind: Pod       # Tipo de recurso: Pod
metadata:       # Metadatos del Pod
  name: app-pod  # Nombre del Pod
spec:           # Especificación del Pod
  containers:   # Lista de contenedores
  - name: app     # Nombre del contenedor
    image: myapp:latest  # Imagen de la aplicación
    env:          # Variables de entorno individuales
    - name: DB_PASSWORD  # Nombre de la variable de entorno en el Pod
      valueFrom:  # Obtiene el valor de un recurso externo
        secretKeyRef:  # Referencia a una clave específica del Secret
          name: app-secret  # Nombre del Secret
          key: password     # Clave del Secret a usar
          # El valor se decodifica automáticamente (de base64 a texto)
          # Ejemplo: Secret tiene "c2VjcmV0MTIz" → variable DB_PASSWORD="secret123"

